<?phpfunction __autoload($class_name) {require_once "../../classes/".$class_name.".php"; }//автоподключение нужного класса$orderswitcher = new OrderSwitchers();//создание объекта класса OrderSwitchersforeach($_GET as $var=>$var_value)$orderswitcher->write($var, $var_value);//запись в БД свойств переключателя, введенных на предыдущей странице	if($orderswitcher->read("handle") == "key"){ //если  ключ		$orderswitcher->write("moment", 0);//запись в БД отсутствие самовозврата			$orderswitcher->write("initpos", "A");//запись в БД нач. пол. А	header( 'Location: constr_switcher10a.php', true, 303 );//на вывод результата конструктора	}else if(($orderswitcher->read("qpos") == 3 && $orderswitcher->read("moment") == 1) ||		strpos($orderswitcher->read("nscheme"), "C" )){ //если   3 положения  и есть самовозврат или симметричная схема	$orderswitcher->write("initpos", "C");//запись в БД нач. пол. C	header( 'Location: constr_switcher10a.php', true, 303 );//на вывод результата конструктора	}else	?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>  <title>Конструктор переключателя</title><meta http-equiv="Content-type" content="text/html; charset=utf8"/><meta name="Keywords" content="Конструктор переключателя, конфигуратор переключателя" /><meta name="Description" content="On-line разработка переключателя по техническим требованиям заказчика" /><meta name="Author" content="Дмитрий Коржов" /><link href="/images/icon1.ico" rel="shortcut icon" type="image/x-icon" /><link  rel="stylesheet" type="text/css" href="/styles/styles.css" /><script type="text/javascript" src="../../lib/wz_jsgraphics.js"></script></head>  <body>  <?php require_once "../../blocks/header.html";?> <div id = "content" >  <?php require_once "../../blocks/left_panel.html";?>   <div id = "main_content"> <?php if($_COOKIE["construct_mode"] == "edit"): ?><h1>Редактор переключателя</h1><?php else: ?><h1>Конструктор переключателя</h1><?php endif; ?>	<h2>Шаг 10 Начальное положение ручки</h2><center><h3>Выберите начальное положение ручки</h3></center><table  class="schema_search" width="100%" border="0" align="center" >	<tr>		<td>				<a  href = 'constr_switcher10a.php?initpos=A' title = "A">A</a>	</td>		<td>				<a  href = 'constr_switcher10a.php?initpos=B' title = "B">B</a>		</td>				<td><?php if($orderswitcher->read("angle") == $orderswitcher->read("qpos"))echo("<a  href = 'constr_switcher10a.php?initpos=M' title = M>M</a>");else if($orderswitcher->read("angle") != 4 && $orderswitcher->read("moment") == 0 && $orderswitcher->read("qpos") < 4) echo("<a  href = 'constr_switcher10a.php?initpos=V' title = V>V</a>");?>								</td>			</tr>	<tr>		<td>			<a href = 'constr_switcher10a.php?initpos=A' title = "A">			<img class = "img"   src = "initial_position.php?initpos=A"  height = "200px"  alt = "A"></a>		</td>		<td>			<a href = 'constr_switcher10a.php?initpos=B' title = "B">			<img class = "img"   src = "initial_position.php?initpos=B"  height = "200px"  alt = "B"></a>		</td>		<td><?php if($orderswitcher->read("angle") == $orderswitcher->read("qpos")){echo("<a href = 'constr_switcher10a.php?initpos=M' title = M>");echo("<img class = 'img'   src = 'initial_position.php?initpos=M'  height = '200px'  alt = M></a>");}else if($orderswitcher->read("angle") != 4 && $orderswitcher->read("moment") == 0 && $orderswitcher->read("qpos") < 4) {echo("<a href = 'constr_switcher10a.php?initpos=V' title = V>");echo("<img class = 'img'   src = 'initial_position.php?initpos=V'  height = '200px'  alt = V></a>");} ?>				</td>	</tr>	<tr>		<td><?php if($orderswitcher->read("angle") != $orderswitcher->read("qpos")&& $orderswitcher->read("qpos") > 2 &&  $orderswitcher->read("qpos") % 2 !=0)echo("<a  href = 'constr_switcher10a.php?initpos=C' title = C>C</a>");?>				</td>		<td><?php if(($orderswitcher->read("angle") == 4 || $orderswitcher->read("angle") == 6) && $orderswitcher->read("qpos") == 2 &&$orderswitcher->read("moment") == 0)echo("<a  href = 'constr_switcher10a.php?initpos=D' title = D>D</a>");?>	   	</td>    </tr>	<tr>		<td><?php if($orderswitcher->read("angle") != $orderswitcher->read("qpos")&& $orderswitcher->read("qpos") > 2 &&  $orderswitcher->read("qpos") % 2 !=0){echo ("<a href = 'constr_switcher10a.php?initpos=C' title = C>");echo("<img class = 'img'   src = 'initial_position.php?initpos=C'  height = '200px'  alt = C></a>");} ?>		</td>		<td><?php if(($orderswitcher->read("angle") == 4 || $orderswitcher->read("angle") == 6) && $orderswitcher->read("qpos")==2 &&$orderswitcher->read("moment") == 0){echo("<a href = 'constr_switcher10a.php?initpos=D' title = D>");echo("<img class = 'img'   src = 'initial_position.php?initpos=D'  height = '200px'  alt = D></a>");}?>				</td>	</tr></table>	<script type='text/javascript'>/*function clicked(initPos) {  setCookie("switcher_init_pos", initPos); // Устанавливаем cookie  //alert(getCookie("switcher_init_pos")); // Выводим cookie //document.location = "constr_switcher10a.php";} function setCookie(name, value) {    document.cookie = name + "=" + value;  }  function getCookie(name) {    var r = document.cookie.match("(^|;) ?" + name + "=([^;]*)(;|$)");    if (r) return r[2];    else return "";  }*/</script>		</div> </div>	 <div class="clear"></div> <?php require_once "../../blocks/footer.html";?> </body></html>